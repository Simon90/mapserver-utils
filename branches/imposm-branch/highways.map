#if _display_railways == 1
LAYER
    GROUP "default"
    STATUS ON
    CONNECTIONTYPE POSTGIS
    CONNECTION _db_connection
    MINSCALEDENOM _minscale
    MAXSCALEDENOM _maxscale
    TYPE LINE
    NAME "railways"
    DATA _railways_data
    CLASS
      EXPRESSION ([tunnel]=0)
        STYLE
         WIDTH _railway_width
         COLOR _railway_clr
         PATTERN _railway_pattern END
         LINECAP BUTT
        END
    END
    CLASS
        STYLE
         WIDTH _railway_width
         COLOR _railway_clr
         PATTERN _railway_pattern END
         OPACITY _railway_tunnel_opacity
         LINECAP BUTT
        END
    END
END
#endif

LAYER
    GROUP "default"
    STATUS ON
    TYPE LINE
    MINSCALEDENOM _minscale
    MAXSCALEDENOM _maxscale
    NAME "roads"
    CONNECTIONTYPE postgis
    CONNECTION _db_connection
    DATA _roads_data
    LABELITEM "name"
    CLASSITEM "type"

#if _display_roads_tunnels == 1
#if _display_motorways == 1
    CLASS
        EXPRESSION ("[type]"="motorway" and "[tunnel]"="1")
        STYLE
            WIDTH _motorway_width
            COLOR _motorway_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#if _display_motorway_links == 1
    CLASS
        EXPRESSION ("[type]"="motorway_link" and "[tunnel]"="1")
        STYLE
            WIDTH _primary_width
            COLOR _motorway_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#if _display_trunks == 1
    CLASS
        EXPRESSION ("[type]"="trunk" and "[tunnel]"="1")
        STYLE
            WIDTH _trunk_width
            COLOR _trunk_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#if _display_trunk_links == 1
    CLASS
        EXPRESSION ("[type]"="trunk_link" and "[tunnel]"="1")
        STYLE
            WIDTH _primary_width
            COLOR _trunk_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#if _display_primaries == 1
    CLASS
        EXPRESSION (("[type]"="primary" or "[type]"="primary_link") and "[tunnel]"="1")
        STYLE
            WIDTH _primary_width
            COLOR _primary_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#ifdef _display_secondaries == 1
    CLASS
        EXPRESSION (("[type]"="secondary" or "[type]"="secondary_link" and "[tunnel]"="1")
        STYLE
            WIDTH _secondary_width
            COLOR _secondary_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#ifdef _display_tertiaries == 1
    CLASS
        EXPRESSION (("[type]"="tertiary" or "[type]"="tertiary_link") and "[tunnel]"="1")
        STYLE
            WIDTH _tertiary_width
            COLOR _tertiary_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#ifdef _display_other_roads == 1
    CLASS
        EXPRESSION (('[type]'='unclassified' or '[type]'='residential' or '[type]'='service') and "[tunnel]"="1")
        STYLE
            WIDTH _other_width
            COLOR _other_clr
            OPACITY _tunnel_opacity
        END
    END
#endif
#endif
##(display_roads_tunnels)
#if _display_motorways == 1
    CLASS
        EXPRESSION "motorway"
        TEXT ("[ref]")
        STYLE
            WIDTH _motorway_width
            COLOR _motorway_clr
        END
#if _label_motorways == 1
        LABEL
            TYPE TRUETYPE
            PARTIALS FALSE
            PRIORITY 1
            FONT _motorway_font
            SIZE _motorway_lbl_size
            MINDISTANCE 400
            MINFEATURESIZE AUTO
            COLOR _motorway_lbl_clr
            ANGLE FOLLOW
            BUFFER 3
        END
#endif
    END
#endif
#if _display_motorway_links == 1
    CLASS
        EXPRESSION "motorway_link"
        STYLE
            WIDTH _primary_width
            COLOR _motorway_clr
        END
    END
#endif
#if _display_trunks == 1
    CLASS
        EXPRESSION "trunk"
        TEXT ("[ref]")
        STYLE
            WIDTH _trunk_width 
            COLOR _trunk_clr
        END
#if _label_trunks == 1
        LABEL
            TYPE TRUETYPE
            PARTIALS FALSE
            FONT _trunk_font
            SIZE _trunk_lbl_size
            MINDISTANCE 400
            MINFEATURESIZE AUTO
            COLOR _trunk_lbl_clr
            ANGLE FOLLOW
            BUFFER 3
        END
#endif
    END
#endif
#if _display_trunk_links == 1
    CLASS
        EXPRESSION "trunk_link"
        STYLE
            WIDTH _primary_width
            COLOR _trunk_clr
        END
    END
#endif
#if _display_primaries == 1
    CLASS
        EXPRESSION /primary/
        STYLE
            WIDTH _primary_width 
            COLOR _primary_clr
        END
#if _label_primaries == 1
        LABEL
            TYPE TRUETYPE
            PARTIALS FALSE
            FONT _primary_font
            SIZE _primary_lbl_size
            MINDISTANCE 400
            MINFEATURESIZE AUTO
            COLOR _primary_lbl_clr
            OUTLINECOLOR _primary_lbl_ol_clr
            ANGLE FOLLOW
            BUFFER 3
        END
#endif
    END
#endif
#if _display_secondaries == 1
    CLASS
        EXPRESSION /secondary/
        STYLE
            WIDTH _secondary_width
            COLOR _secondary_clr
        END
#if _label_secondaries == 1
        LABEL
            TYPE TRUETYPE
            PARTIALS FALSE 
            FONT _secondary_font
            SIZE _secondary_lbl_size 
            MINDISTANCE 400
            ANGLE FOLLOW
            COLOR _secondary_lbl_clr
            OUTLINECOLOR _secondary_lbl_ol_clr
            MINFEATURESIZE AUTO
            BUFFER 3
        END
#endif
    END
#endif
#if _display_tertiaries == 1
    CLASS
        EXPRESSION /tertiary/
        STYLE
            WIDTH _tertiary_width
            COLOR _tertiary_clr
        END
#if _label_tertiaries == 1
        LABEL
            TYPE TRUETYPE
            PARTIALS FALSE
            FONT _tertiary_font
            SIZE _tertiary_lbl_size
            MINDISTANCE 400
            ANGLE FOLLOW
            COLOR _tertiary_lbl_clr
            OUTLINECOLOR _tertiary_lbl_ol_clr
            MINFEATURESIZE AUTO
            BUFFER 3
        END
#endif
    END
#endif
#if _display_other_roads == 1
    CLASS
        EXPRESSION /unclassified|residential|service|road/
        STYLE
            WIDTH _other_width
            COLOR _other_clr
        END
#if _label_other_roads == 1
        LABEL
            TYPE TRUETYPE
            PARTIALS FALSE
            FONT _other_font
            SIZE _other_lbl_size
            MINDISTANCE 400
            ANGLE FOLLOW
            COLOR _other_lbl_clr
            OUTLINECOLOR _other_lbl_ol_clr
            MINFEATURESIZE AUTO
            BUFFER 3
        END
#endif
    END
#endif
#if _display_tracks == 1
    CLASS
        EXPRESSION "track"
        STYLE
            PATTERN 5 5 END
            WIDTH _track_width
            COLOR _track_clr
        END
#ifdef _label_track
        LABEL
            _default_lbl
            FONT _highway_font
            PRIORITY 1
            SIZE _track_lbl_size
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR _track_lbl_clr
            OUTLINECOLOR _track_clr
            MINFEATURESIZE AUTO
        END
#endif
    END
#endif
#if _display_footways == 1
    CLASS
        EXPRESSION 'footway'
        STYLE
            PATTERN 1 1 END
            WIDTH _path_width
            COLOR _path_clr
        END
    END
#endif
#if _display_pedestrian == 1
    CLASS
        EXPRESSION 'pedestrian'
        STYLE
            WIDTH _pedestrian_width 
            COLOR _pedestrian_clr
        END
#if _label_pedestrian == 1
        LABEL
            _default_lbl
            FONT _highway_font
            PRIORITY 1
            SIZE _pedestrian_lbl_size 
            MINSIZE 6
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR _pedestrian_lbl_clr
        END
#endif
    END
#endif
END
    

#if _display_aeroways == 1
LAYER
    GROUP "default"
    STATUS ON
    MINSCALEDENOM _minscale
    MAXSCALEDENOM _maxscale
    TYPE LINE
    NAME "aeroways"
    DATA "geometry from (select geometry, osm_id, type from OSM_PREFIX_aeroways) as foo using unique osm_id using srid=OSM_SRID"
    CLASSITEM "type"
    CLASS
      EXPRESSION "runway"
      STYLE
        COLOR _aeroway_clr
        WIDTH _aeroway_width
        LINECAP BUTT
        LINEJOIN MITER
      END
      STYLE
        COLOR _aeroway_center_clr
        WIDTH _aeroway_center_width
        PATTERN _aeroway_center_pattern END
        LINECAP BUTT
      END
    END
    CLASS
      EXPRESSION "taxiway"
      STYLE
        COLOR _taxiway_clr
        WIDTH _taxiway_width
      END
    END
END
#endif
    
