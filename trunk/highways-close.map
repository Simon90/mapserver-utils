LAYER
    _default_layer
    TYPE LINE
    NAME "railways"
    DATA "way from (select way, osm_id ,railway, name from osm_line where railway='rail') as foo using unique osm_id using srid=4326"
    CLASS
        STYLE
            WIDTH _railway_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _railway_ol_clr
            COLOR _railway_clr
        END
        STYLE
            SYMBOL rail
            SIZE _railway_tie_size
            COLOR _railway_ol_clr
        END
    END
END

LAYER
    _default_layer
    TYPE LINE
    NAME "roadsclose"
    DATA _data_expr
    LABELITEM "name"
    CLASSITEM "highway"

#ifdef _display_tunnels
    CLASS
        EXPRESSION ("[highway]"="motorway" and "[tunnel]"="yes")
        STYLE
            WIDTH _motorway_width
            SYMBOL "tunnel"
            OUTLINEWIDTH 1
            OUTLINECOLOR _motorway_tunnel_ol_clr
        END
        STYLE
            WIDTH _motorway_width
            COLOR _motorway_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="motorway_link" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _motorway_link_width
            OUTLINECOLOR _motorway_tunnel_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _motorway_link_width
            COLOR _motorway_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="trunk" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _trunk_width
            OUTLINECOLOR _trunk_tunnel_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _trunk_width
            COLOR _trunk_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="trunk_link" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _trunk_link_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _trunk_tunnel_ol_clr
        END
        STYLE
            WIDTH _trunk_link_width
            COLOR _trunk_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="primary_link" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _primary_link_width
            OUTLINECOLOR _primary_tunnel_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _primary_link_width
            COLOR _primary_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="primary" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _primary_width
            OUTLINECOLOR _primary_tunnel_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _primary_width
            COLOR _primary_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="secondary_link" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _secondary_link_width
            OUTLINECOLOR _secondary_tunnel_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _secondary_link_width
            COLOR _secondary_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="secondary" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _secondary_width
            OUTLINECOLOR _secondary_tunnel_ol_clr
        END
        STYLE
            WIDTH _secondary_width
            COLOR _secondary_tunnel_clr
        END
    END
    CLASS
        EXPRESSION ("[highway]"="tertiary" and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _tertiary_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _tertiary_tunnel_ol_clr
        END
        STYLE
            WIDTH _tertiary_width
            COLOR _tertiary_tunnel_clr
        END
    END
    CLASS
        EXPRESSION (('[highway]'='unclassified' or '[highway]'='residential' or '[highway]'='service') and "[tunnel]"="yes")
        STYLE
            SYMBOL "tunnel"
            WIDTH _other_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _other_tunnel_ol_clr
        END
        STYLE
            WIDTH _other_width
            COLOR _other_tunnel_clr
        END
    END
#endif 

    CLASS
        EXPRESSION "motorway"
        TEXT ([ref])
        STYLE
            WIDTH _motorway_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _motorway_ol_clr
        END
        STYLE
            WIDTH _motorway_width
            COLOR _motorway_clr
        END
        LABEL
            _default_lbl 
            PRIORITY 1
            FONT scb
            SIZE _motorway_lbl_size
            MINDISTANCE 150
            MAXLENGTH 6
            COLOR 255 255 255
            BACKGROUNDCOLOR _motorway_lbl_bg_clr
            BACKGROUNDSHADOWCOLOR _motorway_lbl_shadow_clr 
        END
    END
    CLASS
        EXPRESSION "motorway_link"
        STYLE
            WIDTH _motorway_link_width
            OUTLINECOLOR _motorway_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _motorway_link_width
            COLOR _motorway_clr
        END
    END
    CLASS
        EXPRESSION "trunk"
        TEXT ([ref])
        STYLE
            WIDTH _trunk_width 
            OUTLINECOLOR _trunk_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _trunk_width 
            COLOR _trunk_clr
        END
        LABEL
            _default_lbl
            FONT scb
            SIZE _trunk_lbl_size
            MINDISTANCE 150
            MAXLENGTH 6
            COLOR 255 255 255
            BACKGROUNDCOLOR _trunk_lbl_bg_clr
            BACKGROUNDSHADOWCOLOR _trunk_lbl_shadow_clr
        END
    END
    CLASS
        EXPRESSION "trunk_link"
        STYLE
            WIDTH _trunk_link_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _trunk_ol_clr
        END
        STYLE
            WIDTH _trunk_link_width
            COLOR _trunk_clr
        END
    END
    CLASS
        EXPRESSION "primary_link"
        STYLE
            WIDTH _primary_link_width
            OUTLINECOLOR _primary_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _primary_link_width
            COLOR _primary_clr
        END
    END
    CLASS
        EXPRESSION "primary"
        STYLE
            WIDTH _primary_width 
            OUTLINECOLOR _primary_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _primary_width 
            COLOR _primary_clr
        END
        LABEL
            _default_lbl
            PRIORITY 4
            SIZE _primary_lbl_size
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR 0 0 0
            OUTLINECOLOR _primary_clr
            MINFEATURESIZE AUTO
        END
    END
    CLASS
        EXPRESSION "secondary_link"
        STYLE
            WIDTH _secondary_link_width
            OUTLINECOLOR _secondary_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _secondary_link_width
            COLOR _secondary_clr 
        END
    END
    CLASS
        EXPRESSION "secondary"
        STYLE
            WIDTH _secondary_width
            OUTLINECOLOR _secondary_ol_clr
            OUTLINEWIDTH 1
        END
        STYLE
            WIDTH _secondary_width
            COLOR _secondary_clr
        END
        LABEL
            _default_lbl
            PRIORITY 3
            SIZE _secondary_lbl_size 
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR 0 0 0
            OUTLINECOLOR _secondary_clr
            MINFEATURESIZE AUTO
        END
    END
    CLASS
        EXPRESSION "tertiary"
        STYLE
            WIDTH _tertiary_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _tertiary_ol_clr
        END
        STYLE
            WIDTH _tertiary_width
            COLOR _tertiary_clr
        END
        LABEL
            _default_lbl
            PRIORITY 2
            SIZE _tertiary_lbl_size
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR 0 0 0
            OUTLINECOLOR _tertiary_clr
            MINFEATURESIZE AUTO
        END
    END
    CLASS
        EXPRESSION ('[highway]'='unclassified' or '[highway]'='residential' or '[highway]'='service' or '[highway]'='road')
        STYLE
            WIDTH _other_width
            OUTLINEWIDTH 1
            OUTLINECOLOR _other_ol_clr
        END
        STYLE
            WIDTH _other_width
            COLOR _other_clr
        END
#ifdef _label_other
        LABEL
            _default_lbl
            PRIORITY 1
            SIZE _other_lbl_size
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR 0 0 0
            OUTLINECOLOR _other_clr
            MINFEATURESIZE AUTO
        END
#endif
    END
    CLASS
        EXPRESSION "track"
        STYLE
            WIDTH _track_width
            OUTLINEWIDTH 1.5
            OUTLINECOLOR _track_ol_clr
        END
        STYLE
            SYMBOL "track"
            WIDTH _track_width
            COLOR _track_clr
        END
#ifdef _label_track
        LABEL
            _default_lbl
            PRIORITY 1
            SIZE _track_lbl_size
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR 0 0 0
            OUTLINECOLOR 255 255 255
            MINFEATURESIZE AUTO
        END
#endif
    END

    CLASS
        EXPRESSION 'footway'
        STYLE
            SYMBOL "path"
            WIDTH _path_width
            COLOR _path_clr
        END
    END
    CLASS
        EXPRESSION 'pedestrian'
        STYLE
            WIDTH _pedestrian_width 
            COLOR _pedestrian_clr
        END
#ifdef _label_pedestrian
        LABEL
            _default_lbl
            PRIORITY 1
            SIZE _pedestrian_lbl_size 
            MINSIZE 6
            MINDISTANCE 200
            ANGLE FOLLOW
            COLOR 0 0 0
        END
#endif
    END
END
    

